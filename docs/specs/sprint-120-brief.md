# Sprint 120: Refactoring & Tech Debt Cleanup â€” Implementation Brief

> **Generated:** 2026-02-06
> **Generated By:** Roadmap Planning Session
> **Status:** Ready for Implementation (skip plan mode)
> **Priority:** P2 | **Hours:** 8-10

---

## Overview

End-of-Phase-17 cleanup sprint. Address TODOs, remove dead code, ensure hook consistency, and clean up type definitions. This sprint runs LAST in Phase 17.

---

## Scope

### TODO Cleanup
- Grep all TODO/FIXME/HACK comments across codebase
- Resolve or document each one
- Target: reduce TODO count by 80%

### Dead Code Removal
- Unused exports in lib/hooks/
- Unused components in components/
- Unused utility functions
- Unreachable code paths

### Hook Consistency
- Ensure all hooks follow the same pattern: { items, loading, error } return shape
- Standardize error handling (toast + setError)
- Standardize loading state management
- Ensure all hooks have orgId early return

### Type Cleanup
- Remove duplicate type definitions
- Consolidate overlapping interfaces
- Add missing JSDoc comments to exported types
- Ensure all Firestore collections have matching types

---

## Parallel Work Plan

### Batch 1 (All Independent)
| Agent | Task | Files | Est. Tokens |
|-------|------|-------|-------------|
| Agent 1 | TODO/FIXME cleanup across codebase | All files with TODOs | ~30k |
| Agent 2 | Dead code removal (hooks + components) | lib/hooks/, components/ | ~30k |
| Agent 3 | Hook consistency audit + fixes | lib/hooks/*.ts | ~30k |
| Agent 4 | Type cleanup + JSDoc | types/index.ts | ~25k |

### Batch 2 (Verification)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Main | npx tsc --noEmit, npm test, ESLint check | ~10k |

---

## Acceptance Criteria

- [ ] TODO/FIXME count reduced by 80%
- [ ] No unused exports detected by TypeScript
- [ ] All hooks follow consistent { items, loading, error } pattern
- [ ] All hooks have orgId early return guard
- [ ] Type definitions have no duplicates
- [ ] npx tsc --noEmit passes
- [ ] All existing tests still pass

---

## Estimated Token Budget: ~125k
