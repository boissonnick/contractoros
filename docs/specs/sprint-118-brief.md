# Sprint 118: Project Detail Page Polish â€” Implementation Brief

> **Generated:** 2026-02-06
> **Generated By:** Roadmap Planning Session
> **Status:** Ready for Implementation (skip plan mode)
> **Priority:** P1 | **Hours:** 8-10

---

## Overview

Polish the project detail page with activity feed, project health score, Gantt chart enhancements, and improved tab navigation. This is one of the most-used pages in the app.

---

## Existing Infrastructure

### Pages
| Route | File | Notes |
|-------|------|-------|
| /dashboard/projects/[id] | app/dashboard/projects/[id]/page.tsx | Main project detail with tabs |
| /dashboard/projects/[id]/tasks | Nested route | Task management |
| /dashboard/projects/[id]/schedule | Nested route | Project schedule |

### Hooks
| Hook | File | Notes |
|------|------|-------|
| useProjects | lib/hooks/useProjects.ts | Project CRUD + status |
| useActivityLog | lib/hooks/useActivityLog.ts | Activity tracking |
| usePhases | lib/hooks/usePhases.ts | Project phases |
| useJobCosting | lib/hooks/useJobCosting.ts | Budget tracking |

### Components
| Component | File | Notes |
|-----------|------|-------|
| ProjectDetailTabs | components/projects/ProjectDetailTabs.tsx | Tab navigation |
| GanttChart | components/schedule/GanttChart.tsx | Gantt visualization |
| ActivityFeed | components/activity/ActivityFeed.tsx | Activity list |

---

## What Exists vs What's Missing

### Already Built
- [x] Project detail page with tabbed navigation
- [x] Activity log hook and basic feed
- [x] Gantt chart component
- [x] Job costing / budget tracking

### Needs to be Created
- [ ] Project health score component (calculated from budget, schedule, tasks)
- [ ] Enhanced activity feed with filtering and search
- [ ] Project summary header with key metrics
- [ ] Gantt chart improvements: drag to resize, dependency lines
- [ ] Project risk indicators

## Files to Create

| # | File Path | Purpose | Pattern |
|---|-----------|---------|---------|
| 1 | components/projects/ProjectHealthScore.tsx | Visual health indicator | StatsGrid card |
| 2 | components/projects/ProjectSummaryHeader.tsx | Key metrics banner | PageHeader enhanced |
| 3 | components/projects/ProjectRiskIndicators.tsx | Risk flags | Alert/badge pattern |
| 4 | lib/utils/project-health-calculator.ts | Health score algorithm | Pure function |

## Files to Modify

| # | File Path | What Changes |
|---|-----------|-------------|
| 1 | app/dashboard/projects/[id]/page.tsx | Add health score, summary header, risk indicators |
| 2 | components/activity/ActivityFeed.tsx | Add filtering, search, date range |
| 3 | components/schedule/GanttChart.tsx | Drag resize, dependency arrows |

---

## Parallel Work Plan

### Batch 1 (No Dependencies)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 1 | Health score calculator + component | ~20k |
| Agent 2 | Enhanced activity feed with filters | ~20k |
| Agent 3 | Project summary header + risk indicators | ~20k |

### Batch 2 (Integration)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 4 | Gantt improvements + wire everything into project detail | ~25k |

---

## Acceptance Criteria

- [ ] Project health score displayed (0-100 based on budget, schedule, task completion)
- [ ] Activity feed filterable by type, date range, team member
- [ ] Summary header shows budget used, days remaining, task completion %
- [ ] Risk indicators flag overdue tasks, over-budget items, missing milestones
- [ ] npx tsc --noEmit passes

---

## Estimated Token Budget: ~100k
