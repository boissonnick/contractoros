# Sprint 128: Zapier / Make.com Webhook Integration — Implementation Brief

> **Generated:** 2026-02-06
> **Generated By:** Roadmap Planning Session (Phase 19: Integrations)
> **Status:** Ready for Implementation (skip plan mode)
> **Priority:** P2 | **Hours:** 6-8

---

## Overview

Enable ContractorOS to connect to 5,000+ apps via outbound webhooks (fire events on key actions) and inbound webhook endpoints (create tasks, add notes from external tools).

---

## Files to Create

| # | File Path | Purpose |
|---|-----------|---------|
| 1 | lib/webhooks/outbound.ts | Fire outbound webhooks on key events |
| 2 | lib/webhooks/delivery-log.ts | Track webhook delivery success/failure |
| 3 | lib/hooks/useWebhooks.ts | Webhook config CRUD |
| 4 | app/api/webhooks/route.ts | Inbound webhook endpoint |
| 5 | app/api/webhooks/test/route.ts | Test webhook delivery |
| 6 | components/settings/WebhookConfig.tsx | Webhook URL, events, secret config |
| 7 | components/settings/WebhookDeliveryLog.tsx | Delivery history with status |
| 8 | app/dashboard/settings/integrations/webhooks/page.tsx | Webhook settings page |

### Outbound Events
| Event | Trigger |
|-------|---------|
| invoice.sent | Invoice status → sent |
| payment.received | Payment completed |
| project.created | New project created |
| task.completed | Task status → completed |
| estimate.accepted | Estimate accepted by client |

### Inbound Actions
| Action | Endpoint |
|--------|----------|
| Create task | POST /api/webhooks?action=create_task |
| Add note | POST /api/webhooks?action=add_note |
| Update status | POST /api/webhooks?action=update_status |

---

## Parallel Work Plan

### Batch 1
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 1 | Outbound webhook engine + delivery log | ~25k |
| Agent 2 | Inbound webhook endpoint + auth | ~20k |
| Agent 3 | Settings UI (config + delivery log) | ~20k |

### Batch 2
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 4 | Wire outbound triggers into hooks, integration test | ~15k |

---

## Acceptance Criteria

- [ ] Outbound webhooks fire on 5 key events
- [ ] Inbound endpoint creates tasks from webhook payload
- [ ] Webhook config UI: URL, events selection, secret key, test button
- [ ] Delivery log shows success/failure with retry
- [ ] API key auth for inbound webhooks
- [ ] npx tsc --noEmit passes

---

## Estimated Token Budget: ~80k
