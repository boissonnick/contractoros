# Sprint 119: Dashboard & Navigation Refresh — Implementation Brief

> **Generated:** 2026-02-06
> **Generated By:** Roadmap Planning Session
> **Status:** Ready for Implementation (skip plan mode)
> **Priority:** P2 | **Hours:** 6-8

---

## Overview

Refresh the main dashboard with configurable widgets, global search, and improved navigation. Make the dashboard feel modern and give users control over what they see first.

---

## Existing Infrastructure

### Pages
| Route | File | Notes |
|-------|------|-------|
| /dashboard | app/dashboard/page.tsx | Main dashboard with stats, projects, tasks |
| /dashboard/layout.tsx | app/dashboard/layout.tsx | Sidebar + top nav layout |

### Components
| Component | File | Notes |
|-----------|------|-------|
| StatsGrid | components/ui/StatsGrid.tsx | KPI cards |
| Sidebar | components/navigation/Sidebar.tsx | Main navigation |
| TopNav | components/navigation/TopNav.tsx | Top bar with user menu |

---

## What Exists vs What's Missing

### Already Built
- [x] Dashboard with stats grid, recent projects, pending tasks
- [x] Sidebar navigation with all modules
- [x] Top nav with user avatar, notifications bell

### Needs to be Created
- [ ] Global search: Search across projects, clients, invoices, tasks from top nav
- [ ] Dashboard widget configuration: Drag to reorder, show/hide widgets
- [ ] Quick action bar: Frequently used actions in dashboard
- [ ] Recent items widget: Last 5 viewed items across all modules

### Needs Modification
- [ ] TopNav.tsx — Add global search input with results dropdown
- [ ] app/dashboard/page.tsx — Configurable widget layout
- [ ] Sidebar.tsx — Active state improvements, favorites

---

## Files to Create

| # | File Path | Purpose | Pattern |
|---|-----------|---------|---------|
| 1 | components/search/GlobalSearch.tsx | Search modal with multi-entity results | Command palette pattern |
| 2 | components/search/SearchResults.tsx | Grouped search results display | List pattern |
| 3 | lib/hooks/useGlobalSearch.ts | Multi-collection Firestore search | useFirestoreCollection |
| 4 | components/dashboard/WidgetConfigurator.tsx | Widget show/hide/reorder | Drag pattern |
| 5 | components/dashboard/QuickActionBar.tsx | Shortcut action buttons | StatsGrid pattern |
| 6 | components/dashboard/RecentItems.tsx | Recently viewed items | ActivityFeed pattern |
| 7 | lib/hooks/useRecentItems.ts | Track recently viewed items in localStorage | Custom hook |

---

## Parallel Work Plan

### Batch 1 (No Dependencies)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 1 | Global search + hook | ~30k |
| Agent 2 | Widget configurator + quick actions | ~25k |
| Agent 3 | Recent items widget + hook | ~15k |

### Batch 2 (Integration)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 4 | Wire into dashboard and top nav | ~15k |

---

## Acceptance Criteria

- [ ] Global search finds results across projects, clients, invoices, tasks
- [ ] Search accessible via Cmd+K keyboard shortcut
- [ ] Dashboard widgets can be shown/hidden via config menu
- [ ] Quick action bar provides shortcuts to common actions
- [ ] Recent items shows last 5 viewed entities
- [ ] npx tsc --noEmit passes

---

## Estimated Token Budget: ~85k
