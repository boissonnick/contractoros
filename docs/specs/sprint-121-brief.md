# Sprint 121: E2E Regression & Smoke Testing — Implementation Brief

> **Generated:** 2026-02-06
> **Generated By:** Roadmap Planning Session (Phase 18: Production Hardening)
> **Status:** Ready for Implementation (skip plan mode)
> **Priority:** P0 | **Hours:** 8-12

---

## Overview

Run full E2E test suites against the live app via Chrome MCP. Fix all critical/high bugs found. This is the first sprint of Phase 18 — making the platform bulletproof before major new features.

---

## Existing Infrastructure

### E2E Test Suites
| Suite | File | Duration | What It Tests |
|-------|------|----------|--------------|
| Smoke | e2e/suites/00-smoke.md | 10 min | All pages load without errors |
| RBAC | e2e/suites/02-rbac.md | 20 min | Auth/permissions per role |
| Mobile | e2e/suites/22-ui-ux-mobile.md | 30 min | Mobile responsive at 375x812 |
| AI Assistant | e2e/suites/24-ai-assistant.md | 15 min | AI chat functionality |
| Regression | e2e/suites/27-regression.md | 2-3 hrs | Full feature regression |
| UAT | e2e/suites/23-uat-checklist.md | 2 hrs | User acceptance testing |

### Test Results Location
| File | Purpose |
|------|---------|
| e2e/results/ | Store test results |
| e2e/results/sprint-27-regression-template.md | Results template |

---

## Execution Plan

### Phase 1: Smoke Tests (All Pages Load)
```
Run e2e/suites/00-smoke.md at localhost:3000
- Every dashboard route loads
- Every portal route loads
- No console errors
- No white screens
```

### Phase 2: Mobile Tests
```
Run e2e/suites/22-ui-ux-mobile.md at 375x812
- All pages responsive
- No horizontal scroll
- Touch targets ≥ 44px
- Navigation works on mobile
```

### Phase 3: RBAC Tests
```
Run e2e/suites/02-rbac.md
- OWNER sees all features
- PM sees assigned projects
- EMPLOYEE sees field portal only
- CLIENT sees client portal only
- SUB sees sub portal only
```

### Phase 4: Fix Critical Bugs
```
Triage all discovered bugs:
- Critical (app crash/data loss): Fix immediately
- High (feature broken): Fix in this sprint
- Medium (UX issue): Log for Sprint 122-124
- Low (cosmetic): Log for Sprint 124
```

---

## Parallel Work Plan

### Phase 1-3: Testing (Sequential — each depends on previous results)
| Task | Duration | Agent |
|------|----------|-------|
| Smoke tests | 10 min | Chrome MCP |
| Mobile tests | 30 min | Chrome MCP at 375x812 |
| RBAC tests | 20 min | Chrome MCP |

### Phase 4: Bug Fixes (Parallel)
| Agent | Task | Est. Tokens |
|-------|------|-------------|
| Agent 1 | Fix critical bugs (estimated 3-5) | ~30k |
| Agent 2 | Fix high bugs (estimated 5-10) | ~30k |
| Agent 3 | Document medium/low bugs for future sprints | ~5k |

---

## Acceptance Criteria

- [ ] Smoke tests: 100% pass (all pages load)
- [ ] Mobile tests: 95%+ pass at 375x812
- [ ] RBAC tests: 100% pass (no unauthorized access)
- [ ] All critical bugs fixed
- [ ] All high bugs fixed
- [ ] Results documented in e2e/results/sprint-121-regression.md
- [ ] Medium/low bugs logged in PLATFORM_AUDIT_COMPLETE.md

---

## Estimated Token Budget: ~100k (mostly Chrome MCP interaction)
